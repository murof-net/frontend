<script lang="ts">
  import { onMount } from "svelte";
  import Hover from "$lib/components/app/Hover.svelte";
  import { Button } from "$lib/components/ui/button";
  import { animateTyping } from "$lib/assets/animateTyping";
  import "$lib/assets/HeroAnimation.css"

  const words = ["on you",  "on knowledge", "on shared interests", "on learning", "on all of us", "on the real world"];
  let typingNode: HTMLElement;

  onMount(() => {
    if (typingNode) {
      animateTyping(typingNode, words);

      // Wait for SVG elements to be ready
      requestAnimationFrame(() => {
        const svgElements = document.querySelectorAll("svg .animate-me");
        svgElements.forEach((element) => {
          element.classList.add("start-animation");
        });
      });
    }
  });
</script>

<div class="flex flex-col items-center justify-center h-screen bg-base-100 lg:flex-row mt-[-2rem] md:mt-[-3rem] lg:mt-[-4.5rem] p-4">
  <div class="order-1 w-full lg:w-1/2">
    <div class="flex justify-center items-start">
      <!-- <img src="landing-logo.svg" alt="Animated SVG" class="object-cover w-full dark:invert"> -->
      <svg class="object-cover w-full dark:invert" id="logo" viewBox="0 0 680 680" fill="none" xmlns="http://www.w3.org/2000/svg">

        <g id="murof_logo_square">
        
        <rect width="680" height="680" fill="none"/>
        
        <g id="graph">
            <g id="edges">
                <path id="edge_t1" d="M441 340L483 180" stroke="url(#paint7_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_t2r" d="M483 180L589 91" stroke="url(#paint6_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_t2l" d="M483 180L255 97" stroke="url(#paint5_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_t3" d="M255 97L77 206" stroke="url(#paint4_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                
                <path id="edge_b1" d="M441 340L515 517" stroke="url(#paint3_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_b2" d="M515 517L352 615" stroke="url(#paint2_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_b3t" d="M352 615L231 482" stroke="url(#paint1_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_b3b" d="M352 615L121 590" stroke="url(#paint0_linear_0_1)" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                <path id="edge_b4" d="M231 482L121 590" stroke="#7F7F7F" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
            </g>
            <g id="nodes">
                <circle id="node_t1" r="38" cx="483" cy="180" fill="white" stroke="#404040" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_t2r" r="36" cx="589" cy="91" fill="white" stroke="#595959" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_t2l" r="48" cx="255" cy="97" fill="white" stroke="#595959" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_t3" r="26" cx="77" cy="206" fill="white" stroke="#7F7F7F" stroke-width="7.99608" stroke-miterlimit="8"/>
                
                <circle id="node_b1" r="38" cx="515" cy="517" fill="white" stroke="#404040" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_b2" r="32" cx="352" cy="615" fill="white" stroke="#595959" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_b3" r="24" cx="231" cy="482" fill="white" stroke="#7F7F7F" stroke-width="7.99608" stroke-miterlimit="8"/>
                <circle id="node_b34" r="24" cx="121" cy="590" fill="white" stroke="#7F7F7F" stroke-width="7.99608" stroke-miterlimit="8"/>
        
            </g>
        </g>
        
        <g id="murof_square">
            
            <a href="https://murof.net" target="_blank">
            <g id="murof_text">
                <!-- invisible text that can be copy-pasted -->
                <text fill="#00FF00" fill-opacity="0.0" xml:space="preserve" style="white-space: pre" font-family="Courier New" font-size="172" font-weight="100"><tspan x="80" y="376">murof</tspan></text>
            </g>
            </a>
        
            <!-- <g id="correction_f">
                <g id="black_f">
                    <path id="black_f_body" d="M579 271.693C561.818 266.612 528.591 266.746 528.056 286.937C527.946 299.915 528.053 373.019 528 373.028" stroke="black" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="black_f_bot" d="M569.332 377.032L507 377.032" stroke="black" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="black_f_top" d="M569.332 304.944L507 304.944" stroke="black" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                </g>
                <g id="white_f">
                    <path id="correction_blue" d="M591 246H496V403H591V246Z" fill="#3367D1" stroke="#3367D1" stroke-width="1.99902" stroke-miterlimit="8"/>
                    <path id="white_f_body" d="M579 271.693C561.818 266.612 528.591 266.746 528.056 286.937C527.946 299.915 528.053 373.019 528 373.028" stroke="white" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="white_f_bot" d="M569.332 377.032L507 377.032" stroke="white" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="white_f_top" d="M569.332 304.944L507 304.944" stroke="white" stroke-width="8.001" stroke-miterlimit="8" stroke-linecap="round"/>
                </g>
            </g> -->
        
            <g id="murof">
        
                <g id="m">
                    <path id="m_foot_middle" d="M125 377.3H145" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="m_foot_left" d="M85 377.3H91.6779" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="m_foot_right" d="M178 377.3H184.678" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="m_bow_right" d="M135 377.284C135 338.284 135.096 335.378 135 316.284C134.904 297.189 173.913 297.288 174 316.284C174.087 335.279 174 338.284 174 377.284" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="square"/>
                    <path id="m_bow_left" d="M95.9999 377.284C96 338.284 96.0964 335.378 96 316.284C95.9036 297.189 134.913 297.288 135 316.284C135.087 335.279 135 338.284 135 377.284" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="square"/>
                </g>
        
                <g id="u">
                    <path id="u_2" d="M272 303C272 337.859 272 345.254 272 361.099C272 376.944 252 378 242.5 378C233 378 212 376.944 212 361.099C212 345.254 212 337.859 212 303" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="square" stroke-linejoin="round"/>
                </g>
                <g id="r">
                    <path id="r_foot" d="M361 377H301" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="r_line" d="M322 299V377.541" stroke="black" stroke-width="7.99608" stroke-miterlimit="8"/>
                    <path id="r_head" d="M318 303H301" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="r_bow" d="M377 310.041C363.033 293.339 346.667 304.672 323 327.737" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                </g>
        
                <g id="o">
                    <path id="o_2" fill-rule="evenodd" clip-rule="evenodd" d="M403 339.5C403 318.237 420.237 301 441.5 301C462.763 301 480 318.237 480 339.5C480 360.763 462.763 378 441.5 378C420.237 378 403 360.763 403 339.5Z" fill="white" stroke="black" stroke-width="7.99608" stroke-miterlimit="8"/>
                </g>
        
                <g id="f">
                    <path id="f_body" d="M501 272.763C518.182 267.737 551.41 267.869 551.944 287.842C552.054 300.679 551.947 372.992 552 373" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="f_line_bot" d="M511 377H573.332" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                    <path id="f_line_top" d="M511 305H573.332" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/>
                </g>
        
            </g> <!-- end of murof logo text -->
        
            <!-- <path id="cursor" d="M592 249V400.107" stroke="black" stroke-width="7.99608" stroke-miterlimit="8" stroke-linecap="round"/> -->
        
        </g>
        
        <defs>
            <linearGradient id="paint0_linear_0_1" x1="236" y1="619.032" x2="236" y2="585.968" gradientUnits="userSpaceOnUse">
                <stop stop-color="#595959"/>
                <stop offset="0.2" stop-color="#595959"/>
                <stop offset="0.8" stop-color="#7F7F7F"/>
                <stop offset="1" stop-color="#7F7F7F"/>
            </linearGradient>
            <linearGradient id="paint1_linear_0_1" x1="291.5" y1="477.994" x2="291.5" y2="619.006" gradientUnits="userSpaceOnUse">
                <stop stop-color="#7F7F7F"/>
                <stop offset="0.2" stop-color="#7F7F7F"/>
                <stop offset="0.8" stop-color="#595959"/>
                <stop offset="1" stop-color="#595959"/>
            </linearGradient>
            <linearGradient id="paint2_linear_0_1" x1="433.5" y1="619.032" x2="433.5" y2="510.968" gradientUnits="userSpaceOnUse">
                <stop stop-color="#595959"/>
                <stop offset="0.2" stop-color="#595959"/>
                <stop offset="0.8" stop-color="#404040"/>
                <stop offset="1" stop-color="#404040"/>
            </linearGradient>
            <linearGradient id="paint3_linear_0_1" x1="478" y1="335.464" x2="478" y2="521.536" gradientUnits="userSpaceOnUse">
                <stop/>
                <stop offset="0.3"/>
                <stop offset="0.7" stop-color="#404040"/>
                <stop offset="1" stop-color="#404040"/>
            </linearGradient>
            <linearGradient id="paint4_linear_0_1" x1="166" y1="93.0219" x2="166" y2="209.978" gradientUnits="userSpaceOnUse">
                <stop stop-color="#595959"/>
                <stop offset="0.2" stop-color="#595959"/>
                <stop offset="0.8" stop-color="#7F7F7F"/>
                <stop offset="1" stop-color="#7F7F7F"/>
            </linearGradient>
            <linearGradient id="paint5_linear_0_1" x1="369" y1="93.0664" x2="369" y2="183.934" gradientUnits="userSpaceOnUse">
                <stop stop-color="#595959"/>
                <stop offset="0.2" stop-color="#595959"/>
                <stop offset="0.8" stop-color="#404040"/>
                <stop offset="1" stop-color="#404040"/>
            </linearGradient>
            <linearGradient id="paint6_linear_0_1" x1="536" y1="184.044" x2="536" y2="86.9559" gradientUnits="userSpaceOnUse">
                <stop stop-color="#404040"/>
                <stop offset="0.3" stop-color="#404040"/>
                <stop offset="0.7" stop-color="#595959"/>
                <stop offset="1" stop-color="#595959"/>
            </linearGradient>
            <linearGradient id="paint7_linear_0_1" x1="462" y1="176.397" x2="462" y2="343.603" gradientUnits="userSpaceOnUse">
                <stop stop-color="#404040"/>
                <stop offset="0.2" stop-color="#404040"/>
                <stop offset="0.8"/>
                <stop offset="1"/>
            </linearGradient>
        </defs>
        
        </g>
        
      </svg>
    </div>
  </div>
  <div class="order-2 w-full lg:w-1/2 lg:max-w-[50%]">
    <div class="p-2 bg-base-100 rounded-md text-left md:pl-4 md:pr-12">
      <div class="container p-0">
      <div class="container p-0">
        <h1 class="font-robomo text-3xl lg:text-5xl font-bold mb-4 min-h-[3.6em] md:min-h-[3em]">
          It's education, <br>
          but <Hover trigger="based"
          href="https://www.urbandictionary.com/define.php?term=based" content={[
              "A word used when you agree with something; or when you want to recognize someone for being themselves, i.e. courageous and unique or not caring what others think. Especially common in online political slang.",
              "The opposite of cringe, some times the opposite of biased.",
            ]} citation={{
              title: "Urban Dictionary", 
              date: "2024-07-29",
              href: "https://www.urbandictionary.com/define.php?term=based",
            }}
          />
          <span class="text-accent-foreground/70" bind:this={typingNode}></span>
        </h1>
      </div>
      <div class="container p-0">
        <p class="text-lg py-1 mb-6">
          Empowering curiosity through data-driven, personalized and collaborative thinking.
          Say goodbye to knowledge-in-a-vacuum and hello to learning with purpose!
        </p>
        <Button variant="default" class="mb-3 mr-6">
          <a href="/auth">Get started today</a>
        </Button>
        <Button variant="outline">
          <a href="/test">Watch our demo</a>
        </Button>
      </div>
    </div>
    </div>
  </div>
</div>